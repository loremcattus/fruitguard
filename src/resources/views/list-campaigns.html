<main>
    <section class="breadcrumbs">
        <a href="#">Inicio</a>
        <p>Ver campañas</p>
    </section>
    <hr>
    <h1>Buscar campaña</h1>
    <form id="searchPost">
        <select class="half region-select" id="regionSearch">
            <option value="">Región</option>
        </select>
        <select class="half commune-select" id="communeSearch" disabled>
            <option value="">Comuna</option>
        </select>
        <input class="full" type="text" id="nameSearch" placeholder="Nombre de la campaña">
        <div class="bottom-crud">
            <div class="check-container">
                <label for="openSearch">Mostrar cerradas</label>
                <input id="openSearch" type="checkbox">
            </div>
            <button type="submit" class="button-green-crud">Buscar</button>
        </div>
    </form>
    <hr>
    <section class="cards">
        <% if (Array.isArray(formattedCampaigns) && formattedCampaigns.length > 0) { %>
            <% for (let i = 0; i < formattedCampaigns.length; i++) { %>
                <a href="<%= formattedCampaigns[i].id %>">
                    <div class="card-left-side">
                        <p class="card-left-side-top"><%= formattedCampaigns[i].id %> | <span class="card-left-side-top-highlight"><%= formattedCampaigns[i].name %></span></p>
                        <p class="card-left-side-bottom"><%= formattedCampaigns[i].region %> > <%= formattedCampaigns[i].commune %></p>
                    </div>
                    <div class="card-right-side">
                        <p><%= formattedCampaigns[i].open ? 'Abierta' : 'Cerrada' %></p>
                    </div>
                </a>
            <% } %>
        <% } else { %>
            <p><%= formattedCampaigns %></p>
        <% } %>
    </section>
    <button type="button" class="add-button" data-toggle="modal" data-target="#addModal"
        aria-label="addButton"></button>
</main>
<div class="modal-backdrop" style="display: none;" id="modalBackdrop"></div>
<div class="add-modal" style="display: none;" id="addModal" role="form" aria-labelledby="addModalLabel">
    <div class="modal-items">
        <div class="close-modal" data-dismiss="modal"></div>
        <h1>Añadir campaña</h1>
        <form id="addPost">
            <select class="half region-select" id="regionAdd">
                <option value="">Región</option>
            </select>
            <select class="half commune-select" id="communeAdd" disabled>
                <option value="">Comuna</option>
            </select>
            <input class="full" type="text" id="nameAdd" placeholder="Nombre de la campaña">
            <label class="green-url-default" for="file-upload" id="file-label">Añadir mapa de la zona</label>
            <input type="file" id="file-upload" style="display: none;">
            <hr>
            <div class="bottom-crud">
                <button type="reset" class="button-40">Cancelar</button>
                <button type="submit" class="button-green-default button-60">Añadir campaña</button>
            </div>
        </form>
    </div>
</div>
<div id="message" class="alert" role="alert"></div>
<script src="/js/locations.js"></script>
<script src="/js/campaigns.js" type="module"></script>
